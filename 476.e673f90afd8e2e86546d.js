(self.webpackChunkng_dnd_forms=self.webpackChunkng_dnd_forms||[]).push([[476],{8476:(e,t,i)=>{"use strict";i.r(t),i.d(t,{FormBuilderMaterialModule:()=>U});var n=i(8583),o=i(3679),l=i(9882),s=i(3500),c=i(1881),d=i(684),r=i(1727),a=i(2891),u=i(5728),p=i(4655),m=i(6215),f=i(8002),g=i(7716),w=i(2522),h=i(1095),v=i(1552),y=i(1436),x=i(3992),Z=i(3461),b=i(5932),A=i(9942);const C=["editable"];function M(e,t){if(1&e&&(g.TgZ(0,"span",11),g._uU(1),g.qZA()),2&e){const e=g.oxw().$implicit;g.xp6(1),g.hij(" ",e.input.dndName," ")}}function T(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",8),g.NdJ("dblclick",function(){const t=g.CHM(e).$implicit;return g.oxw(),g.MAs(1).addItem(t.input)}),g.TgZ(1,"mat-icon",9),g._uU(2),g.qZA(),g.YNc(3,M,2,1,"span",10),g.qZA()}if(2&e){const e=t.$implicit,i=g.oxw();g.ekj("justify-start",!i.iconOnly)("px-3",!i.iconOnly)("gap-3",!i.iconOnly),g.xp6(1),g.Q6J("matTooltip",i.iconOnly?e.input.dndName:""),g.xp6(1),g.hij(" ",e.input.dndIcon," "),g.xp6(1),g.Q6J("ngIf",!i.iconOnly)}}function k(e,t){1&e&&(g.TgZ(0,"div",12),g.TgZ(1,"mat-icon",13),g._uU(2,"drag_indicator"),g.qZA(),g.qZA())}function q(e,t){if(1&e&&g._uU(0),2&e){const e=g.oxw().$implicit;g.hij(" ",(null==e.item||null==e.item.templateOptions?null:e.item.templateOptions.label)||"Unknown"," ")}}function $(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"input",18),g.NdJ("focusout",function(){return g.CHM(e),g.oxw(),g.MAs(3).saveEdit()}),g.qZA()}if(2&e){const e=g.oxw().$implicit,t=g.oxw();g.Q6J("id",e.item.key)("formControl",t.controlsByKey[e.item.key+""])}}const O=function(e){return[e]};function _(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"mat-icon"),g._uU(1),g.qZA(),g.TgZ(2,"editable",14,15),g.NdJ("modeChange",function(t){const i=g.CHM(e).$implicit;return g.oxw().editableModeChange(t,i.item)})("save",function(){const t=g.CHM(e).$implicit,i=g.oxw();return g.MAs(1).updateFormLabel(t.item,i.controlsByKey[t.item.key+""].value)}),g.YNc(4,q,1,1,"ng-template",16),g.YNc(5,$,1,2,"ng-template",17),g.qZA()}if(2&e){const e=t.$implicit;g.xp6(1),g.Oqu(null==e.item?null:e.item.dndIcon),g.xp6(1),g.Q6J("id",g.VKq(2,O,e.item.key)+"-editable")}}function J(e,t){1&e&&(g.TgZ(0,"div",19),g.TgZ(1,"mat-icon",20),g._uU(2," add "),g.qZA(),g.qZA())}let N=(()=>{class e{constructor(e,t){this.cdr=e,this.document=t,this.userMode="preview",this.controlsByKey={},this.iconOnly=!0}editableModeChange(e,t){var i;if(this.controlsByKey={},"edit"===e){this.controlsByKey[t.key+""]=new o.NI;const e=this.controlsByKey[t.key+""];null==e||e.setValue(null===(i=t.templateOptions)||void 0===i?void 0:i.label)}}focusAndSelectedEditableInputText(e){var t;this.cdr.detectChanges();const i=null===(t=this.editable)||void 0===t?void 0:t.find(t=>{var i,n,o;return(null===(o=null===(n=null===(i=t)||void 0===i?void 0:i.el)||void 0===n?void 0:n.nativeElement)||void 0===o?void 0:o.id)===e.key+"-editable"});if(i){i.displayEditMode(),this.cdr.detectChanges();const t=this.document.getElementById(e.key+"");null==t||t.focus(),null==t||t.select(),this.cdr.detectChanges()}}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(g.sBO),g.Y36(n.K0))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-material-example"]],viewQuery:function(e,t){if(1&e&&g.Gf(C,5),2&e){let e;g.iGM(e=g.CRH())&&(t.editable=e)}},inputs:{userMode:"userMode"},decls:12,vars:0,consts:[["cdkDropListGroup","",1,"flex","flex-row","p-4","gap-2"],["api",""],["listContainerClass","flex flex-col gap-4 px-3","itemContainerClass","flex flex-row items-center justify-start gap-5 p-4 shadow-md bg-white rounded-md cursor-move"],["input",""],["listContainerClass","flex flex-col gap-4 w-96 dashed-cdk-drag-placeholder","itemContainerClass","flex flex-row gap-1 bg-white shadow-md p-3 rounded-md items-center",3,"inputAdded"],["dragHandle",""],["item",""],["placeholder",""],[1,"flex","items-center","justify-center",3,"dblclick"],[1,"scale-150","block",3,"matTooltip"],["class","w-32",4,"ngIf"],[1,"w-32"],[1,"w-8","h-8","flex","items-center"],[1,"cursor-move"],[1,"w-full",3,"id","modeChange","save"],["editable",""],["viewMode",""],["editMode",""],["editableOnEnter","",1,"w-full","form-input","h-8","rounded-sm",3,"id","formControl","focusout"],[1,"w-full","h-64","flex","flex-row","items-center","justify-center","border-indigo-400","border-4","border-dashed","box-content","bg-indigo-50","rounded-md"],[1,"text-indigo-200",2,"transform","scale(3)"]],template:function(e,t){1&e&&(g.TgZ(0,"dnd-form",0,1),g.TgZ(2,"dnd-list-input-source",2),g.YNc(3,T,4,9,"ng-template",null,3,g.W1O),g.qZA(),g.TgZ(5,"dnd-list-input-target",4),g.NdJ("inputAdded",function(e){return t.focusAndSelectedEditableInputText(e)}),g.YNc(6,k,3,0,"ng-template",null,5,g.W1O),g.YNc(8,_,6,4,"ng-template",null,6,g.W1O),g.YNc(10,J,3,0,"ng-template",null,7,g.W1O),g.qZA(),g.qZA())},directives:[x.d,Z.Fd,b.F,A.D,v.Hw,y.gM,n.O5,l.w5,l.Jj,l.u_,o.Fj,l.mD,o.JJ,o.oH],encapsulation:2,changeDetection:0}),e})();const j=[{path:"",component:(()=>{class e{constructor(){this.showPreview$=new m.X(!0),this.userMode$=this.showPreview$.pipe((0,f.U)(e=>e?"preview":"editing")),this.userModeIcon$=this.showPreview$.pipe((0,f.U)(e=>e?"visibility":"visibility_off")),this.userModeTooltip$=this.showPreview$.pipe((0,f.U)(e=>e?"Hide Preview":"Show Preview"))}togglePreview(){this.showPreview$.next(!this.showPreview$.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-form-builder"]],decls:9,vars:6,consts:[[1,"flex","flex-row","justify-between"],["mat-icon-button","",3,"click"],[3,"matTooltip"]],template:function(e,t){1&e&&(g.TgZ(0,"mat-toolbar",0),g.TgZ(1,"span"),g._uU(2,"Drag and Drop Form Builder"),g.qZA(),g.TgZ(3,"button",1),g.NdJ("click",function(){return t.togglePreview()}),g.TgZ(4,"mat-icon",2),g.ALo(5,"async"),g._uU(6),g.ALo(7,"async"),g.qZA(),g.qZA(),g.qZA(),g._UZ(8,"app-material-example")),2&e&&(g.xp6(4),g.Q6J("matTooltip",g.lcZ(5,2,t.userModeTooltip$)||""),g.xp6(2),g.hij(" ",g.lcZ(7,4,t.userModeIcon$)," "))},directives:[w.Ye,h.lW,v.Hw,y.gM,N],pipes:[n.Ov],encapsulation:2,changeDetection:0}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[p.Bz.forChild(j)],p.Bz]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[n.ez,u.m,a.r8,l.rR,o.UX,r.W,s.X0,c.o,d.y,B]]}),e})()}}]);