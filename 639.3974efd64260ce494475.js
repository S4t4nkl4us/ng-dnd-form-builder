(self.webpackChunkng_dnd_forms=self.webpackChunkng_dnd_forms||[]).push([[639],{8639:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MaterialExampleModule:()=>j});var i=n(8583),o=n(3679),l=n(9882),d=n(3500),c=n(1881),s=n(684),r=n(1727),a=n(2891),u=n(5728),p=n(4655),m=n(7716),f=n(2522),g=n(3992),w=n(3461),x=n(5932),h=n(9942),y=n(1095),v=n(1552),Z=n(1436);const b=["editable"];function A(e,t){if(1&e){const e=m.EpF();m.ynx(0),m.TgZ(1,"button",10),m.NdJ("click",function(){const t=m.CHM(e).ngIf;return m.oxw().showPreview(t)}),m.TgZ(2,"mat-icon"),m._uU(3," visibility "),m.qZA(),m._uU(4," Form preview "),m.qZA(),m.BQk()}if(2&e){const e=t.ngIf;m.xp6(1),m.Q6J("disabled",e.length<1)}}function C(e,t){if(1&e&&(m.TgZ(0,"span",14),m._uU(1),m.qZA()),2&e){const e=m.oxw().$implicit;m.xp6(1),m.hij(" ",e.input.dndName," ")}}function k(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"div",11),m.NdJ("dblclick",function(){const t=m.CHM(e).$implicit;return m.oxw(),m.MAs(6).addItem(t.input)}),m.TgZ(1,"mat-icon",12),m._uU(2),m.qZA(),m.YNc(3,C,2,1,"span",13),m.qZA()}if(2&e){const e=t.$implicit,n=m.oxw();m.ekj("justify-start",!n.iconOnly)("px-3",!n.iconOnly)("gap-3",!n.iconOnly),m.xp6(1),m.Q6J("matTooltip",n.iconOnly?e.input.dndName:""),m.xp6(1),m.hij(" ",e.input.dndIcon," "),m.xp6(1),m.Q6J("ngIf",!n.iconOnly)}}function M(e,t){1&e&&(m.TgZ(0,"div",15),m.TgZ(1,"mat-icon",16),m._uU(2,"drag_indicator"),m.qZA(),m.qZA())}function T(e,t){if(1&e&&m._uU(0),2&e){const e=m.oxw().$implicit;m.hij(" ",(null==e.item||null==e.item.templateOptions?null:e.item.templateOptions.label)||"Unknown"," ")}}function q(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"input",21),m.NdJ("focusout",function(){return m.CHM(e),m.oxw(),m.MAs(3).saveEdit()}),m.qZA()}if(2&e){const e=m.oxw().$implicit,t=m.oxw();m.Q6J("id",e.item.key)("formControl",t.controlsByKey[e.item.key+""])}}const O=function(e){return[e]};function J(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"mat-icon"),m._uU(1),m.qZA(),m.TgZ(2,"editable",17,18),m.NdJ("modeChange",function(t){const n=m.CHM(e).$implicit;return m.oxw().editableModeChange(t,n.item)})("save",function(){const t=m.CHM(e).$implicit,n=m.oxw();return m.MAs(6).updateFormLabel(t.item,n.controlsByKey[t.item.key+""].value)}),m.YNc(4,T,1,1,"ng-template",19),m.YNc(5,q,1,2,"ng-template",20),m.qZA()}if(2&e){const e=t.$implicit;m.xp6(1),m.Oqu(null==e.item?null:e.item.dndIcon),m.xp6(1),m.Q6J("id",m.VKq(2,O,e.item.key)+"-editable")}}function N(e,t){1&e&&(m.TgZ(0,"div",22),m.TgZ(1,"mat-icon",23),m._uU(2," add "),m.qZA(),m.qZA())}const _=[{path:"",component:(()=>{class e{constructor(e,t,n){this.cdr=e,this.formPreviewService=t,this.document=n,this.userMode="preview",this.controlsByKey={},this.iconOnly=!0}showPreview(e){this.formPreviewService.openPreviewModal(e)}editableModeChange(e,t){var n;if(this.controlsByKey={},"edit"===e){this.controlsByKey[t.key+""]=new o.NI;const e=this.controlsByKey[t.key+""];null==e||e.setValue(null===(n=t.templateOptions)||void 0===n?void 0:n.label)}}focusAndSelectedEditableInputText(e){var t;this.cdr.detectChanges();const n=null===(t=this.editable)||void 0===t?void 0:t.find(t=>{var n,i,o;return(null===(o=null===(i=null===(n=t)||void 0===n?void 0:n.el)||void 0===i?void 0:i.nativeElement)||void 0===o?void 0:o.id)===e.key+"-editable"});if(n){n.displayEditMode(),this.cdr.detectChanges();const t=this.document.getElementById(e.key+"");null==t||t.focus(),null==t||t.select(),this.cdr.detectChanges()}}}return e.\u0275fac=function(t){return new(t||e)(m.Y36(m.sBO),m.Y36(a.sZ),m.Y36(i.K0))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-material-example"]],viewQuery:function(e,t){if(1&e&&m.Gf(b,5),2&e){let e;m.iGM(e=m.CRH())&&(t.editable=e)}},inputs:{userMode:"userMode"},decls:17,vars:3,consts:[[1,"flex","flex-row","justify-between"],[4,"ngIf"],["cdkDropListGroup","",1,"flex","flex-row","p-2","md:p-4","gap-1","md:gap-2"],["api",""],["listContainerClass","flex flex-col gap-4 px-1 md:px-3","itemContainerClass","flex flex-row items-center justify-start gap-5 p-4 shadow-md bg-white rounded-md cursor-move"],["input",""],["listContainerClass"," flex flex-col gap-4 w-full dashed-cdk-drag-placeholder","itemContainerClass","flex flex-row gap-1 bg-white shadow-md p-3 rounded-md items-center",1,"flex-1","md:flex-none","md:w-96",3,"inputAdded"],["dragHandle",""],["item",""],["placeholder",""],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"flex","items-center","justify-center",3,"dblclick"],[1,"scale-150","block",3,"matTooltip"],["class","w-32",4,"ngIf"],[1,"w-32"],[1,"w-8","h-8","flex","items-center"],[1,"cursor-move"],[1,"w-full",3,"id","modeChange","save"],["editable",""],["viewMode",""],["editMode",""],["editableOnEnter","",1,"w-full","form-input","h-8","rounded-sm",3,"id","formControl","focusout"],[1,"h-80","flex","flex-row","items-center","justify-center","border-indigo-400","border-4","border-dashed","box-content","bg-indigo-50","rounded-md"],[1,"text-indigo-200",2,"transform","scale(3)"]],template:function(e,t){if(1&e&&(m.TgZ(0,"mat-toolbar",0),m.TgZ(1,"span"),m._uU(2,"Drag and Drop Form Builder"),m.qZA(),m.YNc(3,A,5,1,"ng-container",1),m.ALo(4,"async"),m.qZA(),m.TgZ(5,"dnd-form",2,3),m.TgZ(7,"dnd-list-input-source",4),m.YNc(8,k,4,9,"ng-template",null,5,m.W1O),m.qZA(),m.TgZ(10,"dnd-list-input-target",6),m.NdJ("inputAdded",function(e){return t.focusAndSelectedEditableInputText(e)}),m.YNc(11,M,3,0,"ng-template",null,7,m.W1O),m.YNc(13,J,6,4,"ng-template",null,8,m.W1O),m.YNc(15,N,3,0,"ng-template",null,9,m.W1O),m.qZA(),m.qZA()),2&e){const e=m.MAs(6);m.xp6(3),m.Q6J("ngIf",m.lcZ(4,1,e.fields$))}},directives:[f.Ye,i.O5,g.d,w.Fd,x.F,h.D,y.lW,v.Hw,Z.gM,l.w5,l.Jj,l.u_,o.Fj,l.mD,o.JJ,o.oH],pipes:[i.Ov],encapsulation:2,changeDetection:0}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[p.Bz.forChild(_)],p.Bz]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[i.ez,u.m,a.r8,l.rR,o.UX,r.W,d.X0,c.o,s.y,B]]}),e})()}}]);